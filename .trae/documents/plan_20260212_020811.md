# Project Optimization Plan

## Phase 1: Frontend Modularization (Vue.js)
The current `App.vue` is a monolithic file handling routing, state, and UI. We will split this into a modern Vue architecture.

### 1.1 Infrastructure Setup
- Install `vue-router` for navigation management.
- Install `pinia` for state management (replacing prop drilling).

### 1.2 Structural Refactoring
- **Router**: Create `src/router/index.js` to define routes:
  - `/login`: Login page
  - `/`: Home page (Dashboard)
  - `/workspace/:mode`: Chat workspace (Code, Travel, etc.)
- **State Management**:
  - `stores/user.js`: Manage authentication state.
  - `stores/chat.js`: Manage current session, messages, and streaming state.
- **View Extraction**:
  - `views/LoginView.vue`: Isolated login logic.
  - `views/HomeView.vue`: The dashboard with capability cards.
  - `views/WorkspaceView.vue`: The main chat interface.
- **Component Decomposition**:
  - `components/layout/Sidebar.vue`: Navigation and session list.
  - `components/layout/AppFooter.vue`: The newly added footer.
  - `components/chat/ChatArea.vue`: Message list and input area.

## Phase 2: Backend Architecture Refactoring (Spring Boot)
Transition from a "Technical Layer" architecture (Controller/Service) to a "Domain Feature" architecture.

### 2.1 Module Reorganization
Create a `modules` package to encapsulate distinct business domains:
- **`com.yupi.aicodehelper.modules.auth`**:
  - `UserController`, `UserService`, `User`, `LoginInterceptor`.
- **`com.yupi.aicodehelper.modules.chat`**:
  - `ChatSession`, `ChatHistory`, `ChatController`.
- **`com.yupi.aicodehelper.modules.agent`**:
  - `AgentController`, `AgentMessage`, `ReActAgent` core logic.

### 2.2 Feature Isolation
- Group specific assistant implementations (Travel, Code, Essay) into `com.yupi.aicodehelper.modules.features`.
- This ensures that adding a new assistant type doesn't clutter the root `ai` package.

## Phase 3: Build & Verification
- **Frontend**: Update `vite.config.js` to support path aliases (`@/`).
- **Backend**: Ensure `pom.xml` dependencies are clean.
- **Testing**:
  - Write integration tests to verify the new package structure doesn't break Dependency Injection.
  - Verify Frontend routing works correctly.

## Request for Confirmation
This plan involves moving significant amounts of code.
1. Are you ready for me to install `vue-router` and `pinia`?
2. Do you agree with the package restructuring for the backend?
